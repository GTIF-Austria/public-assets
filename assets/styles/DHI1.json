{
    "legend": {
        "title": "Wind power density",
        "range": [
            "rgba(64, 128, 128, 1)",
            "rgba(128, 192, 192, 1)",
            "rgba(192, 224, 224, 1)",
            "rgba(255, 255, 255, 1)",
            "rgba(255, 192, 128, 1)",
            "rgba(255, 128, 64, 1)",
            "rgba(255, 64, 32, 1)"
        ],
        "domainProperties": ["powermin", "powermax"]
    },
    "variables": {
        "powermin": 0,
        "powermax": 1000,
        "elevationmin": 0,
        "elevationmax": 4000,
        "slopemin": 0,
        "slopemax": 50,
        "settlementDistance": 0
    },
    "color": [
        "case",
        [
            "all",
            [">", ["band", 1], 0],
            [
                "between",
                ["band", 2],
                ["var", "elevationmin"],
                ["var", "elevationmax"]
            ],
            ["between", ["band", 3], ["var", "slopemin"], ["var", "slopemax"]],
            [">=", ["band", 4], ["var", "settlementDistance"]]
        ],
        [
            "interpolate",
            ["linear"],
            [
                "/",
                ["-", ["band", 1], ["var", "powermin"]],
                ["-", ["var", "powermax"], ["var", "powermin"]]
            ],
            0,
            [64, 128, 128, 1],
            0.166,
            [128, 192, 192, 1],
            0.333,
            [192, 224, 224, 1],
            0.5,
            [255, 255, 255, 1],
            0.666,
            [255, 192, 128, 1],
            0.833,
            [255, 128, 64, 1],
            1,
            [255, 64, 32, 1]
        ],
        ["color", 0, 0, 0, 0]
    ],
    "jsonform": {
        "type": "object",
        "title": "Data configuration",
        "properties": {
            "powerrange": {
                "title": "Wind power density",
                "type": "object",
                "properties": {
                    "powermin": {
                        "type": "number",
                        "minimum": 0,
                        "maximum": 3000,
                        "format": "range",
                        "default": 0
                    },
                    "powermax": {
                        "type": "number",
                        "minimum": 0,
                        "maximum": 3000,
                        "format": "range",
                        "default": 1000
                    }
                },
                "format": "minmax"
            },
            "elevationrange": {
                "title": "Elevation range",
                "type": "object",
                "properties": {
                    "elevationmin": {
                        "type": "number",
                        "minimum": 0,
                        "maximum": 4000,
                        "format": "range",
                        "default": 0
                    },
                    "elevationmax": {
                        "type": "number",
                        "minimum": 0,
                        "maximum": 4000,
                        "format": "range",
                        "default": 4000
                    }
                },
                "format": "minmax"
            },
            "sloperange": {
                "title": "Slope range",
                "type": "object",
                "properties": {
                    "slopemin": {
                        "type": "number",
                        "minimum": 0,
                        "maximum": 50,
                        "format": "range",
                        "default": 0
                    },
                    "slopemax": {
                        "type": "number",
                        "minimum": 0,
                        "maximum": 50,
                        "format": "range",
                        "default": 50
                    }
                },
                "format": "minmax"
            },
            "settlementDistance": {
                "title": "Distance to settlements",
                "type": "number",
                "minimum": 0,
                "maximum": 5000,
                "format": "range",
                "default": 0
            }
        }
    }
}
